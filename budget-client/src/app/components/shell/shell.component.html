<mat-toolbar *ngIf="!Mobile" color="primary">
    <button type="button" (click)="sidenav.toggle()" mat-icon-button class="toolbar-main-button">
        <mat-icon>menu</mat-icon>
    </button>
    <span>Budget</span>
    <span class="toolbar-spacer"></span>
    <button type="button" (click)="OpenMovementAdderDialog()" mat-icon-button>
        <mat-icon>add</mat-icon>
    </button>
    <button type="button" (click)="Logout()" mat-icon-button>
        <mat-icon>exit_to_app</mat-icon>
    </button>
</mat-toolbar>
<mat-sidenav-container class="sidenav-container">
    <mat-sidenav #sidenav [mode]="Mobile ? 'over' : 'side'" [opened]="!Mobile">
        <mat-nav-list *ngIf="Account != undefined">
            <a (click)="SetState('All')" mat-list-item>
                <mat-icon>timeline</mat-icon>
                <span class="menu-entry-text">{{ 'Shell.Menu.All' | translate }}</span>
            </a>
            <a *ngFor="let budget of Account.Budgets" (click)="BudgetMenuAction(budget)" mat-list-item>
                <ng-container [ngSwitch]="budget.Status">
                    <mat-icon *ngSwitchCase="BudgetStatus.Main">label_outlined</mat-icon>
                    <mat-icon *ngSwitchCase="BudgetStatus.Open">people</mat-icon>
                    <mat-icon *ngSwitchCase="BudgetStatus.NotAccepted">how_to_reg</mat-icon>
                    <mat-icon *ngSwitchCase="BudgetStatus.ToAccept" class="color-warn">new_releases</mat-icon>
                </ng-container>
                <span *ngIf="budget.Status === BudgetStatus.Main" class="menu-entry-text">{{ 'Shell.Menu.Main' | translate }}</span>
                <span *ngIf="budget.Status !== BudgetStatus.Main" class="menu-entry-text">{{ 'Shell.Menu.With' | translate }} {{ budget.With }}</span>
            </a>
            <a (click)="AddBudget()" mat-list-item>
                <mat-icon>person_add</mat-icon>
                <span class="menu-entry-text">{{ 'Shell.Menu.NewJointBudget' | translate }}</span>
            </a>
            <mat-divider></mat-divider>
            <a (click)="SetState('Settings')" mat-list-item>
                <mat-icon>settings</mat-icon>
                <span class="menu-entry-text">{{ 'Shell.Menu.Settings' | translate }}</span>
            </a>
        </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content>
        <mat-toolbar *ngIf="Mobile" color="primary">
            <button type="button" mat-icon-button (click)="sidenav.toggle()" class="toolbar-main-button">
                <mat-icon>menu</mat-icon>
            </button>
            <span>Budget</span>
        </mat-toolbar>
        <div [ngSwitch]="State" class="shell-content">
            <app-overall-analytics *ngSwitchCase="'All'"></app-overall-analytics>
            <app-budget-adder *ngSwitchCase="'BudgetAdder'"></app-budget-adder>
            <app-movement-adder *ngSwitchCase="'MovementAdder'" [Budgets]="OpenBudgets"></app-movement-adder>
            <app-settings *ngSwitchCase="'Settings'"></app-settings>
            <app-budget-tabs *ngSwitchDefault [Budget]="SelectedBudget"></app-budget-tabs>
        </div>
        <ng-container *ngIf="Mobile && State !== 'MovementAdder'">
            <button type="button" (click)="SetState('MovementAdder')" mat-fab color="accent" class="add-fab">
                <mat-icon>add</mat-icon>
            </button>
        </ng-container>
    </mat-sidenav-content>
</mat-sidenav-container>
